<link rel="import" href="../../dist/circle.html">
<link rel="import" href="../../src/o-repeat.html">
<link rel="import" href="../../src/behavior.html">
<link rel="import" href="../../src/routes/routes.html">

<link rel="import" href="./routes/routes.html">


<template id="my-app">
	<link rel="stylesheet" href="my-app.css">
	<my-header menu="[menu]" site-id="Fatfood" tagline="The cetogen food place."></my-header>
	<my-body></my-body>
	<my-footer></my-footer>
</template>

<template id="my-header">
	<link rel="stylesheet" href="my-header.css">
	<site-id o-sref="home">{{siteId}}</site-id>
	<tag-line>{{tagline}}</tag-line>
	<o-repeat list="[menu]" iterator="item">
		<template header>
			<style>
				o-repeat,
				 :host {
					display: flex;
					justify-content: center;
					margin-top: 10px;
				}

				o-repeat-item {
					flex-grow: 0.1;
					text-align: center;
				}
			</style>
		</template>
		<template item>
			<style>
				o-repeat-item,
				 :host {
					margin: 0 1%;
				}

				a {
					display: block;
					padding: 10px;
					background-color: #aaa;
					color: black;
					text-decoration: none;
				}

				a.active {
					color: white;
					background-color: red;
				}
			</style>
			<a o-sref="<item.name>" o-sref-active="active">{{item.label}}</a>
		</template>
	</o-repeat>
</template>

<template id="my-footer">
	<style>
		:host,
		my-footer {
			display: block;
			background-color: #666;
			color: #ddd;
			padding: 10px;
		}

		p {
			text-align: center;
		}

		a {
			color: hsl(0, 100%, 80%);
		}

		flat-icon {
			display: block;
			text-align: center;
			font-size: 10px;
		}
	</style>
	<p>Fatfood - Â©{{year}} - This is one of the <a href="..">examples</a> of the circle library.</p>
	<flat-icon>Icons made by
		<a href="https://www.flaticon.com/authors/baianat" title="Baianat">Baianat</a>,
		<a href="http://www.freepik.com" title="Freepik">Freepik</a> 
		
		from <a href="https://www.flaticon.com/"
		 title="Flaticon">www.flaticon.com</a> is licensed by
		<a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a>

	</flat-icon>
</template>

<script>
	class MyApp extends o.Element {
		init() {
			o.di('routes').states([
				{ name: 'home', label: 'Home', url: './', component: 'my-home', default: true },
				{ name: 'products', label: 'Products', url: './products', component: 'my-products' },
				{ name: 'services', label: 'Services', url: './services', component: 'my-services' },
				{ name: 'contact', label: 'Contact', url: './contact', component: 'my-contact' },
			]);
			this.model.menu = o.di('routes').states;
		}
	}
	MyApp.reg();
	class MyHeader extends o.Element { }
	MyHeader.reg();
	class MyBody extends o.Element {
		init() {
			o.di('routes').register(this);
		}
	}
	MyBody.reg();
	class MyFooter extends o.Element {
		init() {
			this.model.year = new Date().getFullYear();
		}
	}
	MyFooter.reg();

</script>